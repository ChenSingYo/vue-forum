{"version":3,"sources":["webpack:///./src/components/Spinner.vue?d4d7","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?c088","webpack:///./src/views/RestaurantsDashboard.vue","webpack:///./src/views/RestaurantsDashboard.vue?5974"],"names":["class","script","render","__scopeId","isLoading","restaurant","name","categoryName","commentsLength","viewCounts","type","$router","back","components","Spinner","data","id","created","restaurantId","this","$route","params","fetchRestaurant","methods","restaurants","getRestaurant","status","Error","message","Category","Comments","length","console","error","fire","icon","title"],"mappings":"kHAAA,W,+HCCOA,MAAM,W,EACT,eAIM,OAJDA,MAAM,mBAAiB,CAC1B,eAAO,OACP,eAAO,OACP,eAAO,S,mEAJX,eAMM,MANN,EAMM,CALJ,O,UCDJ,MAAMC,EAAS,GAGfA,EAAOC,OAASA,EAChBD,EAAOE,UAAY,kBAEJ,U,+FCNRH,MAAM,kB,GAIDA,MAAM,mC,EAKd,eAAM,mB,gFATR,eAmBM,MAnBN,EAmBM,CAlBW,EAAAI,W,iBAAf,eAA4B,Y,sBAC5B,eAKM,YAJJ,eAA8B,yBAAvB,EAAAC,WAAWC,MAAI,GACtB,eAEO,OAFP,EAEO,eADF,EAAAD,WAAWE,cAAY,KAI9B,EAEA,eAGK,WAFH,eAA6C,UAAzC,QAAK,eAAG,EAAAF,WAAWG,gBAAc,GACrC,eAA0C,UAAtC,SAAM,eAAG,EAAAH,WAAWI,YAAU,KAGpC,eAES,UAFDC,KAAK,SAASV,MAAM,eAAgB,QAAK,+BAAE,EAAAW,QAAQC,UAAQ,Y,4EAWxD,GACbN,KAAM,sBACNO,WAAY,CACVC,UAAA,MAEFC,KALa,WAMX,MAAO,CACLV,WAAY,CACVW,GAAI,EACJV,KAAM,GACNC,aAAc,GACdC,eAAgB,EAChBC,WAAY,GAEdL,WAAW,IAGfa,QAjBa,WAiBF,IACGC,EAAiBC,KAAKC,OAAOC,OAAjCL,GACRG,KAAKG,gBAAgBJ,IAQvBK,QAAS,CACDD,gBADC,SACgBJ,GAAc,4LAEjC,EAAKd,WAAY,EAFgB,SAGVoB,EAAA,KAAeC,cAAc,CAAEP,iBAHrB,mBAGzBH,EAHyB,EAGzBA,KACY,UAAhBA,EAAKW,OAJwB,sBAKzB,IAAIC,MAAMZ,EAAKa,SALU,SAOoBb,EAAKV,WAAlDW,EAPyB,EAOzBA,GAAIV,EAPqB,EAOrBA,KAAMuB,EAPe,EAOfA,SAAUC,EAPK,EAOLA,SAAUrB,EAPL,EAOKA,WACtC,EAAKJ,WAAL,iCACK,EAAKA,YADV,IAEEW,KACAV,OACAC,aAAcsB,EAAWA,EAASvB,KAAO,MACzCE,eAAgBsB,EAASC,OACzBtB,eAEF,EAAKL,WAAY,EAhBgB,qDAkBjC4B,QAAQC,MAAM,KAAEL,SAChB,EAAKxB,WAAY,EACjB,OAAM8B,KAAK,CACTC,KAAM,QACNC,MAAO,mBAtBwB,+DCrDzC,EAAOlC,OAASA,EAED","file":"js/chunk-295109e3.bd33d44e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=bb4a7a2a&scoped=true&lang=css\"","<template>\n  <div class=\"spinner\">\n    <div class=\"bouncing-loader\">\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.spinner {\n  padding-top: 100px;\n}\n.bouncing-loader {\n  display: flex;\n  justify-content: center;\n}\n.bouncing-loader > div {\n  width: 1rem;\n  height: 1rem;\n  margin: 3rem 0.2rem;\n  background: #bd2333;\n  border-radius: 50%;\n  animation: bouncing-loader 0.6s infinite alternate;\n}\n.bouncing-loader > div:nth-child(2) {\n  animation-delay: 0.2s;\n}\n.bouncing-loader > div:nth-child(3) {\n  animation-delay: 0.4s;\n}\n@keyframes bouncing-loader {\n  from {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  to {\n    opacity: 0.1;\n    transform: translateY(-1rem);\n  }\n}\n</style>\n","import { render } from \"./Spinner.vue?vue&type=template&id=bb4a7a2a&scoped=true\"\nconst script = {}\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=bb4a7a2a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-bb4a7a2a\"\n\nexport default script","<template>\n  <div class=\"container py-5\">\n    <Spinner v-if=\"isLoading\" />\n    <div>\n      <h1>{{ restaurant.name }}</h1>\n      <span class=\"badge badge-secondary mt-1 mb-3\">\n        {{ restaurant.categoryName }}\n      </span>\n    </div>\n\n    <hr />\n\n    <ul>\n      <li>評論數： {{ restaurant.commentsLength }}</li>\n      <li>瀏覽次數： {{ restaurant.viewCounts }}</li>\n    </ul>\n\n    <button type=\"button\" class=\"btn btn-link\" @click=\"$router.back()\">\n      回上一頁\n    </button>\n  </div>\n</template>\n\n<script>\nimport restaurantsAPI from './../apis/restaurants'\nimport Spinner from './../components/Spinner'\nimport { Toast } from './../utils/helpers'\n\nexport default {\n  name: 'RestaurantDashboard',\n  components: {\n    Spinner\n  },\n  data () {\n    return {\n      restaurant: {\n        id: 1,\n        name: '',\n        categoryName: '',\n        commentsLength: 0,\n        viewCounts: 0\n      },\n      isLoading: true\n    }\n  },\n  created () {\n    const { id: restaurantId } = this.$route.params\n    this.fetchRestaurant(restaurantId)\n  },\n  // Vue 3 History 模式可省略\n  // beforeRouteUpdate (to, from, next) {\n  //   const { id: restaurantId } = to.params\n  //   this.fetchRestaurant(restaurantId)\n  //   next()\n  // },\n  methods: {\n    async fetchRestaurant (restaurantId) {\n      try {\n        this.isLoading = true\n        const { data } = await restaurantsAPI.getRestaurant({ restaurantId })\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n        const { id, name, Category, Comments, viewCounts } = data.restaurant\n        this.restaurant = {\n          ...this.restaurant,\n          id,\n          name,\n          categoryName: Category ? Category.name : '未分類',\n          commentsLength: Comments.length,\n          viewCounts\n        }\n        this.isLoading = false\n      } catch (e) {\n        console.error(e.message)\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得餐廳資料，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./RestaurantsDashboard.vue?vue&type=template&id=7aa305a1\"\nimport script from \"./RestaurantsDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./RestaurantsDashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}