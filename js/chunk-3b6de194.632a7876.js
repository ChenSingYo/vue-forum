(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b6de194"],{"9cab":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n={class:"container py-5"},r=Object(a["g"])("h1",{class:"mt-5"}," 最新動態 ",-1),s=Object(a["g"])("hr",null,null,-1),b={class:"row"},d={class:"col-md-6"},u=Object(a["g"])("h3",null,"最新餐廳",-1),i={class:"col-md-6"},j=Object(a["g"])("h3",null,"最新評論",-1);function o(e,t,c,o,O,l){var m=Object(a["w"])("NavTabs"),f=Object(a["w"])("Spinner"),g=Object(a["w"])("NewestRestaurants"),v=Object(a["w"])("NewestComments");return Object(a["p"])(),Object(a["d"])("div",n,[Object(a["g"])(m),O.isLoading?(Object(a["p"])(),Object(a["d"])(f,{key:0})):(Object(a["p"])(),Object(a["d"])(a["a"],{key:1},[r,s,Object(a["g"])("div",b,[Object(a["g"])("div",d,[u,Object(a["g"])(g,{restaurants:O.restaurants},null,8,["restaurants"])]),Object(a["g"])("div",i,[j,Object(a["g"])(v,{comments:O.comments},null,8,["comments"])])])],64))])}var O=c("1da1"),l=(c("96cf"),c("4de4"),c("8bb1")),m=(c("b0c0"),c("a4d3"),c("e01a"),Object(a["H"])("data-v-17acb6d6"));Object(a["s"])("data-v-17acb6d6");var f={class:"card"},g=Object(a["g"])("div",{class:"card-header"}," 最新餐廳 ",-1),v={class:"card-body"},p=Object(a["g"])("hr",null,null,-1);Object(a["q"])();var w=m((function(e,t,c,n,r,s){var b=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("div",f,[g,Object(a["g"])("div",v,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(e.$attrs.restaurants,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t.id},[Object(a["g"])("h4",null,[Object(a["g"])(b,{to:{name:"restaurant",params:{id:t.id}}},{default:m((function(){return[Object(a["f"])(Object(a["y"])(t.name),1)]})),_:2},1032,["to"]),Object(a["g"])("small",null,"   "+Object(a["y"])(t.Category?t.Category.name:"未分類"),1)]),Object(a["g"])("p",null,Object(a["y"])(t.description),1),Object(a["f"])(" "+Object(a["y"])(e.fromNow(t.createdAt))+" ",1),p])})),128))])])})),h=c("2708"),y={mixins:[h["a"]]};c("c7d9");y.render=w,y.__scopeId="data-v-17acb6d6";var k=y,N={class:"card"},R=Object(a["g"])("div",{class:"card-header"}," 最新評論 ",-1),x={class:"card-body"},L=Object(a["f"])("by "),_=Object(a["g"])("hr",null,null,-1);function C(e,t,c,n,r,s){var b=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("div",N,[R,Object(a["g"])("div",x,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.comments,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t.id},[Object(a["g"])("h4",null,[Object(a["g"])(b,{to:{name:"restaurant",params:{id:t.Restaurant.id}}},{default:Object(a["E"])((function(){return[Object(a["f"])(Object(a["y"])(t.Restaurant.name),1)]})),_:2},1032,["to"])]),Object(a["g"])("p",null,Object(a["y"])(t.text),1),L,Object(a["g"])(b,{to:{name:"user",params:{id:t.User.id}}},{default:Object(a["E"])((function(){return[Object(a["f"])(Object(a["y"])(t.User.name),1)]})),_:2},1032,["to"]),Object(a["f"])(" "+Object(a["y"])(e.fromNow(t.createdAt))+" ",1),_])})),128))])])}var F={mixins:[h["a"]],props:{comments:{type:Array,required:!0}}};F.render=C;var A=F,q=c("c4c3"),E=c("2fa3"),J=c("2375"),S={name:"RestaurantFeeds",components:{NavTabs:l["a"],NewestRestaurants:k,NewestComments:A,Spinner:J["a"]},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var c,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,q["a"].getFeeds();case 4:c=t.sent,a=c.data,n=a.restaurants,r=a.comments,e.restaurants=n,e.comments=r.filter((function(e){return e.Restaurant&&e.text})),e.isLoading=!1,t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),e.isLoading=!1,console.log(t.t0),E["a"].fire({icon:"error",title:"無法取得最新動態，請稍後再試"});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}};S.render=o;t["default"]=S},c7d9:function(e,t,c){"use strict";c("f771")},f771:function(e,t,c){}}]);
//# sourceMappingURL=chunk-3b6de194.632a7876.js.map