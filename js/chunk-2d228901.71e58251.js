(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228901"],{da5c:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),n={class:"container py-5"},i={class:"form-group"},c=Object(r["g"])("label",{for:"name"},"Name",-1),s={class:"form-group"},u=Object(r["g"])("label",{for:"image"},null,-1),o=Object(r["g"])("button",{type:"submit",class:"btn btn-primary"}," Submit ",-1);function m(e,t,a,m,d,l){return Object(r["p"])(),Object(r["d"])("div",n,[Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["G"])((function(){return l.handleSubmit&&l.handleSubmit.apply(l,arguments)}),["stop","prevent"]))},[Object(r["g"])("div",i,[c,Object(r["F"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.name=e}),id:"name",type:"text",name:"name",class:"form-control",placeholder:"Enter Name",required:""},null,512),[[r["B"],d.name]])]),Object(r["g"])("div",s,[u,d.image?(Object(r["p"])(),Object(r["d"])("img",{key:0,src:d.image,width:"200",alt:"empty image"},null,8,["src"])):Object(r["e"])("",!0),Object(r["g"])("input",{onChange:t[2]||(t[2]=function(){return l.handleFileChange&&l.handleFileChange.apply(l,arguments)}),id:"image",type:"file",name:"image",accept:"image/*",class:"form-control-file"},null,32)]),o],32)])}var d=a("1da1"),l=a("5530"),b=(a("96cf"),a("d3b7"),a("25f0"),a("2b3d"),a("3ca3"),a("ddb0"),a("5502")),p=a("4cce"),g=a("2fa3"),f={data:function(){return{id:0,image:"",name:"",email:"",isProcessing:!1}},computed:Object(l["a"])({},Object(b["b"])(["currentUser"])),watch:{currentUser:function(e){if(-1!==e.id){var t=this.$route.params.id;this.setUser(t)}}},created:function(){var e=this.$route.params.id;this.setUser(e)},beforeRouteUpdate:function(e,t,a){if(-1!==this.currentUser.id){var r=e.params.id;this.setUser(r),a()}},methods:{setUser:function(e){var t=this.currentUser,a=t.id,r=t.image,n=t.name,i=t.email;a.toString()===e.toString()?(this.id=a,this.name=n,this.email=i,this.image=r):this.$router.push({name:"not-found"})},handleFileChange:function(e){var t=e.target.files;if(t.length){var a=window.URL.createObjectURL(t[0]);this.image=a}},handleSubmit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.name){a.next=4;break}return g["a"].fire({icon:"warning",title:"您尚未填寫姓名"}),a.abrupt("return");case 4:return r=e.target,n=new FormData(r),t.isProcessing=!0,a.next=9,p["a"].update({userId:t.id,formData:n});case 9:if(i=a.sent,c=i.data,"error"!==c.status){a.next=13;break}throw new Error(c.message);case 13:t.$router.push({name:"user",params:{id:t.id}}),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,16]])})))()}}};f.render=m;t["default"]=f}}]);
//# sourceMappingURL=chunk-2d228901.71e58251.js.map