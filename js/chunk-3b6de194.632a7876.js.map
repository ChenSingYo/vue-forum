{"version":3,"sources":["webpack:///./src/views/RestaurantsFeeds.vue","webpack:///./src/components/NewestRestaurants.vue","webpack:///./src/components/NewestRestaurants.vue?3054","webpack:///./src/components/NewestComments.vue","webpack:///./src/components/NewestComments.vue?a24f","webpack:///./src/views/RestaurantsFeeds.vue?a81e","webpack:///./src/components/NewestRestaurants.vue?809e"],"names":["class","isLoading","restaurants","comments","$attrs","restaurant","key","id","to","name","Category","description","fromNow","createdAt","mixins","render","__scopeId","comment","Restaurant","text","User","props","type","Array","required","components","NavTabs","NewestRestaurants","NewestComments","Spinner","data","created","this","fetchFeeds","methods","getFeeds","filter","console","log","fire","icon","title"],"mappings":"4IACOA,MAAM,kB,EAIP,eAEK,MAFDA,MAAM,QAAO,UAEjB,G,EACA,eAAM,mB,GACDA,MAAM,O,GACJA,MAAM,Y,EACT,eAAa,UAAT,QAAI,G,GAILA,MAAM,Y,EACT,eAAa,UAAT,QAAI,G,qLAfhB,eAqBM,MArBN,EAqBM,CApBJ,eAAW,GACI,EAAAC,W,iBAAf,eAA4B,a,iBAC5B,eAiBW,gBAhBT,EAGA,EACA,eAWM,MAXN,EAWM,CAVJ,eAIM,MAJN,EAIM,CAHJ,EAEA,eAAgD,GAA5BC,YAAa,EAAAA,aAAW,0BAE9C,eAIM,MAJN,EAIM,CAHJ,EAEA,eAAsC,GAArBC,SAAU,EAAAA,UAAQ,0B,sKCjBtCH,MAAM,Q,EACT,eAEM,OAFDA,MAAM,eAAc,UAEzB,G,GACKA,MAAM,a,EAkBP,eAAI,mB,4GAtBV,eAyBM,MAzBN,EAyBM,CAxBJ,EAGA,eAoBM,MApBN,EAoBM,E,mBAnBJ,eAkBM,2BAlBoB,EAAAI,OAAOF,aAAW,SAAhCG,G,wBAAZ,eAkBM,OAlByCC,IAAKD,EAAWE,I,CAC7D,eAWK,WAVF,eAKa,GAJXC,GAAE,8BAAsCH,EAAWE,M,YAEpD,iBAAqB,C,8BAAlBF,EAAWI,MAAI,O,kBAGpB,eAGQ,aAHD,MAEL,eAAGJ,EAAWK,SAAWL,EAAWK,SAASD,KAAI,YAGrD,eAEI,wBADCJ,EAAWM,aAAW,G,eACvB,IACJ,eAAG,EAAAC,QAAQP,EAAWQ,YAAa,IACnC,U,yBAQQ,GACdC,OAAQ,CAAC,S,UC3BX,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,GCNRhB,MAAM,Q,EACT,eAEM,OAFDA,MAAM,eAAc,UAEzB,G,GACKA,MAAM,a,iBASkB,O,EAOzB,eAAI,mB,oFApBV,eAwBM,MAxBN,EAwBM,CAvBJ,EAGA,eAmBM,MAnBN,EAmBM,E,mBAlBJ,eAgBM,2BAhBiB,EAAAG,UAAQ,SAAnBc,G,wBAAZ,eAgBM,OAhB4BX,IAAKW,EAAQV,I,CAC7C,eAMK,WALH,eAIc,GAHXC,GAAE,8BAAsCS,EAAQC,WAAWX,M,yBAE5D,iBAA6B,C,8BAA1BU,EAAQC,WAAWT,MAAI,O,oBAG9B,eAAyB,wBAAnBQ,EAAQE,MAAI,G,EAClB,eAIc,GAHXX,GAAE,wBAAgCS,EAAQG,KAAKb,M,yBAEhD,iBAAqB,C,8BAAnBU,EAAQG,KAAKX,MAAI,O,iCACP,IACd,eAAG,EAAAG,QAAQK,EAAQJ,YAAa,IAChC,U,UAUQ,OACdC,OAAQ,CAAC,QACTO,MAAO,CACLlB,SAAU,CACRmB,KAAMC,MACNC,UAAU,KClChB,EAAOT,OAAS,EAED,Q,oCJ4BA,GACbN,KAAM,kBACNgB,WAAY,CACVC,UAAA,KACAC,oBACAC,iBACAC,UAAA,MAEFC,KARa,WASX,MAAO,CACL5B,YAAa,GACbC,SAAU,GACVF,WAAW,IAGf8B,QAfa,WAgBXC,KAAKC,cAEPC,QAAS,CACDD,WADC,WACa,oLAGhB,EAAKhC,WAAY,EAHD,SAIO,OAAekC,WAJtB,gBAIRL,EAJQ,EAIRA,KACA5B,EAA0B4B,EAA1B5B,YAAaC,EAAa2B,EAAb3B,SAErB,EAAKD,YAAcA,EACnB,EAAKC,SAAWA,EAASiC,QACvB,SAAAnB,GAAM,OAAKA,EAAQC,YAAcD,EAAQE,QAE3C,EAAKlB,WAAY,EAXD,qDAahB,EAAKA,WAAY,EACjBoC,QAAQC,IAAR,MACA,OAAMC,KAAK,CACTC,KAAM,QACNC,MAAO,mBAjBO,+DKjDxB,EAAO1B,OAASA,EAED,gB,kCCLf,W","file":"js/chunk-3b6de194.632a7876.js","sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <NavTabs />\n    <Spinner v-if='isLoading' />\n    <template v-else>\n      <h1 class=\"mt-5\">\n        最新動態\n      </h1>\n      <hr />\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <h3>最新餐廳</h3>\n          <!-- 最新餐廳 NewestRestaurants -->\n          <NewestRestaurants :restaurants=\"restaurants\" />\n        </div>\n        <div class=\"col-md-6\">\n          <h3>最新評論</h3>\n          <!-- 最新評論 NewestComments-->\n          <NewestComments :comments=\"comments\"/>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport NavTabs from './../components/NavTabs.vue'\nimport NewestRestaurants from './../components/NewestRestaurants'\nimport NewestComments from './../components/NewestComments'\nimport restaurantsAPI from './../apis/restaurants'\nimport { Toast } from './../utils/helpers'\nimport Spinner from '../components/Spinner.vue'\n\nexport default {\n  name: 'RestaurantFeeds',\n  components: {\n    NavTabs,\n    NewestRestaurants,\n    NewestComments,\n    Spinner\n  },\n  data () {\n    return {\n      restaurants: [],\n      comments: [],\n      isLoading: true\n    }\n  },\n  created () {\n    this.fetchFeeds()\n  },\n  methods: {\n    async fetchFeeds () {\n      try {\n        // fetch Api\n        this.isLoading = true\n        const { data } = await restaurantsAPI.getFeeds()\n        const { restaurants, comments } = data\n\n        this.restaurants = restaurants\n        this.comments = comments.filter(\n          comment => comment.Restaurant && comment.text\n        )\n        this.isLoading = false\n      } catch (e) {\n        this.isLoading = false\n        console.log(e)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得最新動態，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      最新餐廳\n    </div>\n    <div class=\"card-body\" >\n      <div v-for=\"restaurant in $attrs.restaurants\" :key=\"restaurant.id\">\n        <h4>\n           <router-link\n            :to=\"{ name: 'restaurant', params: { id: restaurant.id }}\"\n          >\n            {{ restaurant.name }}\n\n          </router-link>\n          <small>\n            &nbsp;\n            {{ restaurant.Category ? restaurant.Category.name : '未分類' }}\n          </small>\n        </h4>\n        <p>\n          {{ restaurant.description }}\n        </p>\n        {{ fromNow(restaurant.createdAt) }}\n        <hr>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fromNowMethods } from './../utils/mixins'\nexport default ({\n  mixins: [fromNowMethods]\n  // 運用$attrs取代props來取用父層屬性\n  // props: {\n  //   restaurants: {\n  //     type: Array,\n  //     required: true\n  //   }\n  // }\n})\n</script>\n\n<style scoped>\nsmall {\n  font-size: 10px;\n}\n</style>\n","import { render } from \"./NewestRestaurants.vue?vue&type=template&id=17acb6d6&scoped=true\"\nimport script from \"./NewestRestaurants.vue?vue&type=script&lang=js\"\nexport * from \"./NewestRestaurants.vue?vue&type=script&lang=js\"\n\nimport \"./NewestRestaurants.vue?vue&type=style&index=0&id=17acb6d6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-17acb6d6\"\n\nexport default script","<template>\n\n  <div class=\"card\">\n    <div class=\"card-header\">\n      最新評論\n    </div>\n    <div class=\"card-body\">\n      <div v-for=\"comment in comments\" :key=\"comment.id\">\n        <h4>\n          <router-link\n            :to=\"{ name: 'restaurant', params: { id: comment.Restaurant.id }}\"\n          >\n            {{ comment.Restaurant.name }}\n          </router-link>\n        </h4>\n        <p>{{ comment.text }}</p>by\n        <router-link\n          :to=\"{ name: 'user', params: { id: comment.User.id } }\"\n        >\n          {{comment.User.name}}\n        </router-link>\n        {{ fromNow(comment.createdAt) }}\n        <hr>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fromNowMethods } from './../utils/mixins'\n\nexport default ({\n  mixins: [fromNowMethods],\n  props: {\n    comments: {\n      type: Array,\n      required: true\n    }\n  }\n})\n</script>\n","import { render } from \"./NewestComments.vue?vue&type=template&id=7438591e\"\nimport script from \"./NewestComments.vue?vue&type=script&lang=js\"\nexport * from \"./NewestComments.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./RestaurantsFeeds.vue?vue&type=template&id=59a85874\"\nimport script from \"./RestaurantsFeeds.vue?vue&type=script&lang=js\"\nexport * from \"./RestaurantsFeeds.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewestRestaurants.vue?vue&type=style&index=0&id=17acb6d6&scoped=true&lang=css\""],"sourceRoot":""}